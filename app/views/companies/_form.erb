<%= form_for @company, html: {
  'up-submit': true,
  'up-validate': true,
  'up-disable': true,
  'up-preview': 'btn-spinner',
} do |form| %>

  <div class="form-group">
    <%= form.label :name %>
    <%= tour_dot do %>
      <p>The form uses the <code>[up-validate]</code> attribute to validate user input on the server as you're completing fields.</p>
      <p>Try entering a duplicate company name and then focus the address field.</p>
    <% end %>
    <%= form.text_field :name, class: 'form-control' %>
    <%= form.error_message :name %>
  </div>

  <div class="form-group">
    <%= form.label :address %>
    <%= form.text_area :address, class: 'form-control', rows: 6 %>
    <%= form.error_message :address %>
  </div>

  <div class="d-flex align-items-center mt-4">
    <div class="flex-grow-1">
      <%= form.button "Save", class: 'btn btn-primary' %>

      <% if @company.new_record? %>
        <%= tour_dot(overlay_only: true) do %>
          <p>Saving an invalid form will re-render validation errors in the same overlay.</p>
          <p>Links and forms always render in the same layer unless another layer is targeted explicitly.</p>
        <% end %>
      <% end %>
    </div>

    <div>
      <% if local_assigns[:cancel_path] %>
        <%= link_to 'Cancel', cancel_path, class: 'btn btn-outline-secondary',
          'up-follow': true,
          'up-preview': 'main-spinner'
        %>
      <% end %>
    </div>
  </div>

<% end %>
